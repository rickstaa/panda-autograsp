<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Package use instructions &mdash; panda_autograsp 1.0.6 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            panda_autograsp
              <img src="../_static/panda_autograsp.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.0.6
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">panda-autograsp package</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../info/info.html">Package information</a></li>
</ul>
<p class="caption"><span class="caption-text">Installation Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/install.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/install.html#package-build-from-source-instructions">Package build from source instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/install.html#singularity-container-installation-instructions">Singularity Container installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/install.html#docker-container-installation-instructions">Docker container installation instructions</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Sensor calibration instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html#package-use-instructions">Package use instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html#singularity-container-instructions">Singularity container instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html#troubleshooting-information">Troubleshooting information</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">Python Code API</a></li>
</ul>
<p class="caption"><span class="caption-text">License</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../license/license.html">License</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Zone</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/release_dev.html">Release package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/doc_dev.html">Release documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">panda_autograsp</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Package use instructions</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/usage/package_instr.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="package-use-instructions">
<h1>Package use instructions<a class="headerlink" href="#package-use-instructions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="configuration-instructions">
<h2>Configuration instructions<a class="headerlink" href="#configuration-instructions" title="Permalink to this headline">¶</a></h2>
<p>All of the <a class="reference external" href="https://github.com/rickstaa/panda-autograsp">panda-autograsp</a> settings can be found in the
<a class="reference external" href="https://github.com/rickstaa/panda-autograsp/blob/melodic-devel/panda-autograsp/cfg/main_config.yaml">./cfg/main_config.cfg</a>
file. As described below, you can temporarily override some of These
settings by supplying launch arguments.</p>
</div>
<div class="section" id="add-planning-constraints">
<h2>Add planning constraints<a class="headerlink" href="#add-planning-constraints" title="Permalink to this headline">¶</a></h2>
<p>To add extra planning constraints to the scene, you can add additional
<code class="docutils literal notranslate"><span class="pre">json</span></code> files to the <code class="docutils literal notranslate"><span class="pre">/home/&lt;USER&gt;/.panda_simulation</span></code> folder. This
folder is created the first time the <a class="reference external" href="https://github.com/rickstaa/panda-autograsp">panda-autograsp</a> solution is launched.
A guide on how this can be done can be found <a class="reference external" href="https://erdalpekel.de/?p=123">here</a>.</p>
</div>
<div class="section" id="run-instructions">
<h2>Run instructions<a class="headerlink" href="#run-instructions" title="Permalink to this headline">¶</a></h2>
<div class="figure" id="id4">
<a class="reference external image-reference" href="https://user-images.githubusercontent.com/17570430/69431644-70cc7a80-0d38-11ea-853c-f0e899f86af0.png"><img alt="panda-autograsp algorithm in action" src="https://user-images.githubusercontent.com/17570430/69431644-70cc7a80-0d38-11ea-853c-f0e899f86af0.png" /></a>
<p class="caption"><span class="caption-text">Overview of the panda-autograsp algorithm (moveit_perception module disabled).</span></p>
</div>
<p>To start the <a class="reference external" href="https://github.com/rickstaa/panda-autograsp">panda-autograsp</a> solution, please open a terminal
and start the <a class="reference external" href="https://github.com/rickstaa/panda-autograsp">panda-autograsp</a> solution using the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch panda_autograsp panda_autograsp.launch
</pre></div>
</div>
<p>Additionally, this launch file can also be supplied with a number of
launch file arguments. These arguments can be used to temporarily
override the settings you configured in the <a class="reference external" href="https://github.com/rickstaa/panda-autograsp/blob/melodic-devel/panda-autograsp/cfg/main_config.yaml">./cfg/main_config.cfg</a>
file. The available launch file arguments can be found below. After the
<a class="reference external" href="https://github.com/rickstaa/panda-autograsp">panda-autograsp</a> solution has launched, you can launch the command-line
interface (CLI), in a second terminal, using the following command in a
second terminal window:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rosrun panda_autograsp panda_autograsp_cli.py
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Before executing the commands mentioned above, make sure you the <a class="reference external" href="https://github.com/rickstaa/panda-autograsp">panda-autograsp</a> package is build
and sourced. Further, you have to make sure that the pretrained GQCNN networks are not present in the
<code class="docutils literal notranslate"><span class="pre">./panda_autograsp/models</span></code> folder. The <code class="docutils literal notranslate"><span class="pre">panda_autograsp.launch</span></code> will ask whether you want to install
these models if they are not found. You can also install them by running the following commands from
within the catkin workspace src folder:</p>
<div class="last highlight-bash notranslate"><div class="highlight"><pre><span></span>./gqcnn/scripts/downloads/models/download_models.sh
</pre></div>
</div>
</div>
</div>
<div class="section" id="launch-file-arguments">
<h2>Launch file arguments<a class="headerlink" href="#launch-file-arguments" title="Permalink to this headline">¶</a></h2>
<p>The panda_autograsp launch file accepts the following launch file arguments:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">real</span></code>: Specifies whether you want to use the <a class="reference external" href="https://github.com/rickstaa/panda-autograsp">panda-autograsp</a> solution on the real robot, by default False.</li>
<li><code class="docutils literal notranslate"><span class="pre">gazebo</span></code>: Specifies wheter the gazebo gui should be loaded.</li>
<li><code class="docutils literal notranslate"><span class="pre">external_franka_control</span></code>: Set this to true if you want to load the <code class="docutils literal notranslate"><span class="pre">franka_control</span></code> node on another pc on the same network.</li>
<li><code class="docutils literal notranslate"><span class="pre">robot_ip</span></code>: Set this to the robot ip if your working with the real robot.</li>
<li><code class="docutils literal notranslate"><span class="pre">rviz_gui</span></code>: Specifies wheter the rviz gui should be loaded.</li>
<li><code class="docutils literal notranslate"><span class="pre">calib_type</span></code>: The robot hand-eye calibration board type (chessboard vs arucoboard), overwrites the default that is set in the <a class="reference external" href="https://github.com/rickstaa/panda-autograsp/blob/melodic-devel/panda-autograsp/cfg/main_config.yaml">./cfg/main_config.cfg</a> file.</li>
<li><code class="docutils literal notranslate"><span class="pre">debug</span></code>: If true the verbosity of the ROS log messages will be increased, and the process name will be displayed with each log messages, by default set to false.</li>
<li><code class="docutils literal notranslate"><span class="pre">moveit_perception</span></code>: This enables the Moveit perception module which integrates sensor data into the path planning, by default set to false.</li>
<li><code class="docutils literal notranslate"><span class="pre">octomap_type</span></code>: The data type used by the Moveit perception module (pointcloud or depthmap), defaults to depthmap.</li>
<li><code class="docutils literal notranslate"><span class="pre">octomap_resolution</span></code>: The resolution of the octomap.</li>
<li><code class="docutils literal notranslate"><span class="pre">moveit_add_scene_collision_objects</span></code>: This specifies if the robot table should be added as a collision object to the moveit planning space, By default set to true.</li>
<li><code class="docutils literal notranslate"><span class="pre">grasp_solution</span></code>: Specify which grasping solution you want to use, this overwrites the solution that is set in the <a class="reference external" href="https://github.com/rickstaa/panda-autograsp/blob/melodic-devel/panda-autograsp/cfg/main_config.yaml">./cfg/main_config.cfg</a> file.</li>
<li><code class="docutils literal notranslate"><span class="pre">use_bounding_box</span></code>: If set to true the bounding box that is specified in the <code class="docutils literal notranslate"><span class="pre">main_config.yaml</span></code> file will be used when planning the grasp.</li>
</ul>
</div></blockquote>
<div class="section" id="grasping-solutions">
<h3>Grasping solutions<a class="headerlink" href="#grasping-solutions" title="Permalink to this headline">¶</a></h3>
<p>Currently, the following grasping solutions are supported:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">GQCNN-2.0</span></code>: Deep Learning to Plan Robust Grasps with Synthetic Point Clouds and Analytic Grasp Metrics. Trained on <a class="reference external" href="https://berkeleyautomation.github.io/dex-net/#dexnet_2">Dex-Net 2.0</a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">GQCNN-2.1</span></code>: Extension off GQ-CNN 2.0. The network that was trained on <a class="reference external" href="https://berkeleyautomation.github.io/dex-net/#dexnet_2">Dex-Net 2.0</a> is improved using RL in simulations.</li>
<li><code class="docutils literal notranslate"><span class="pre">GQCNN-4.0-PJ</span></code>: Improvement of the GQCNN-2.0 which computes more accurate grasps. This network module does additionally state whether it is better to grasp an object using a suction or a parallel jaw gripper.</li>
<li><code class="docutils literal notranslate"><span class="pre">FC-GQCNN-4.0-PJ</span></code>: Modification of GQCNN-4.0-PJ in which a fully connected grasp quality CNN (<a class="reference external" href="https://berkeleyautomation.github.io/fcgqcnn">FC-GQ-CNN</a>) is used. This model has a faster grasp computation time and a more accurate grasp.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="moveit-perception">
<h3>Moveit perception<a class="headerlink" href="#moveit-perception" title="Permalink to this headline">¶</a></h3>
<div class="section" id="change-settings">
<h4>Change settings<a class="headerlink" href="#change-settings" title="Permalink to this headline">¶</a></h4>
<p>Appart from the launch file setings additional moveit perception
settings can be found in the
<code class="docutils literal notranslate"><span class="pre">./panda_moveit_config/config/sensor_kinect_deptmap.yaml</span></code>
and <code class="docutils literal notranslate"><span class="pre">sensor_kinect_pointcloud.yaml</span></code> files.</p>
</div>
<div class="section" id="clear-the-octomap">
<h4>Clear the octomap<a class="headerlink" href="#clear-the-octomap" title="Permalink to this headline">¶</a></h4>
<p>The octomap can be reset during execution by calling the <code class="docutils literal notranslate"><span class="pre">reset_octomap</span></code>
service. This is done using the <code class="docutils literal notranslate"><span class="pre">rosservice</span> <span class="pre">call</span> <span class="pre">/reset_octomap</span></code>
command.</p>
</div>
</div>
<div class="section" id="panda-simulations">
<h3>Panda simulations<a class="headerlink" href="#panda-simulations" title="Permalink to this headline">¶</a></h3>
<p>A gazebo simulation of the panda robot can be used by setting the
<code class="docutils literal notranslate"><span class="pre">real</span></code> and <code class="docutils literal notranslate"><span class="pre">gazebo</span></code> launch file arguments.</p>
<div class="figure" id="id5">
<a class="reference external image-reference" href="https://user-images.githubusercontent.com/17570430/68993544-9f9aaa80-0879-11ea-832e-a61147fdc80a.png"><img alt="gazebo_simulation" src="https://user-images.githubusercontent.com/17570430/68993544-9f9aaa80-0879-11ea-832e-a61147fdc80a.png" /></a>
<p class="caption"><span class="caption-text">Overview of the gazebo simulation environment.</span></p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">As the simulated kinect outputs the <a class="reference external" href="https://wiki.ros.org/openni_launch">openni_launch</a>
to simulate the kinect while I am using the
<a class="reference external" href="https://github.com/code-iai/iai_kinect2">iai_kinect2 package</a> the
simulation is not fully ready. To get it to work one has to or replace
the iai_kinect2 package in the real setup with the openni_launch or
write a modified version of the <code class="docutils literal notranslate"><span class="pre">iai_kienct2/kinect2_bridge</span></code> that
works with the simulated camera instead of looking for a real one.</p>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Rick Staa.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>